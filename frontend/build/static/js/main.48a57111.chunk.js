(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{84:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(21),s=c.n(r),o=c(7),l=c(5),i=c(0),u=function(){return Object(i.jsxs)("section",{style:{backgroundColor:"#FEFCF3"},children:[Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"container",style:{backgroundColor:"#FEFCF3"},children:Object(i.jsxs)("div",{className:"jumbotron mt-5",style:{backgroundColor:"#F0DBDB"},children:[Object(i.jsx)("h1",{class:"display-4",children:"Bienvenue sur AlphaCours"}),Object(i.jsx)("p",{class:"lead",children:"Le site ou vous allez trouver toute l'aide dont vous avez besoin!"}),Object(i.jsx)("hr",{class:"my-4"}),Object(i.jsx)("p",{children:"Appuyer ici pour vous connecter"}),Object(i.jsx)(o.b,{class:"btn btn-primary btn-lg",to:"/login",role:"button",style:{backgroundColor:"#BE958E",borderColor:"#BE958E"},children:"Se connecter"})]})}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{})]})},b=c(3),j=c(8),d=c(16),p=c(2),h=c(10),m=c(6),O=c(9),f=c.n(O),x="LOGIN_SUCCESS",v="LOGIN_FAIL",g="SIGNUP_SUCCESS",y="SIGNUP_FAIL",C="ACTIVATION_SUCCESS",w="ACTIVATION_FAIL",N="USER_LOADED_SUCCESS",S="USER_LOADED_FAIL",k="AUTHENTICATED_SUCCESS",E="AUTHENTICATED_FAIL",_="PASSWORD_RESET_FAIL",A="PASSWORD_RESET_SUCCESS",F="PASSWORD_RESET_CONFIRM_FAIL",I="PASSWORD_RESET_CONFIRM_SUCCESS",T="GOOGLE_AUTH_SUCCESS",L="GOOGLE_AUTH_FAIL",B="FACEBOOK_AUTH_SUCCESS",R="FACEBOOK_AUTH_FAIL",U="LOGOUT",D=function(){return function(){var e=Object(j.a)(Object(b.a)().mark((function e(t){var c,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return c={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,f.a.get("".concat("http://localhost:8000","/auth/users/me/"),c);case 5:a=e.sent,t({type:N,payload:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:S});case 12:e.next=15;break;case 14:t({type:S});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},q=c.p+"static/media/icone.ad70116f.png",G=c(23),z=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var c=Object(j.a)(Object(b.a)().mark((function c(a){var n,r,s;return Object(b.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),c.prev=2,c.next=5,f.a.post("".concat("http://localhost:8000","/auth/jwt/create/"),r,n);case 5:s=c.sent,a({type:x,payload:s.data}),a(D()),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(2),a({type:v});case 13:case"end":return c.stop()}}),c,null,[[2,10]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.login,c=e.isAuthenticated,n=Object(a.useState)({email:"",password:""}),r=Object(h.a)(n,2),s=r[0],u=r[1],m=s.email,O=s.password,x=function(e){return u(Object(p.a)(Object(p.a)({},s),{},Object(d.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(j.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat("http://localhost:8000","/auth/o/google-oauth2/?redirect_uri=").concat("http://localhost:8000","/google"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return c?Object(i.jsx)(l.a,{to:"/"}):Object(i.jsx)("section",{className:"vh-100",style:{backgroundColor:"#FEFCF3"},children:Object(i.jsx)("div",{className:"container py-5 h-100",children:Object(i.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(i.jsx)("div",{className:"col-12 col-md-8 col-lg-6 col-xl-5",children:Object(i.jsx)("div",{className:"card shadow-2-strong",style:{borderRadius:"1rem",backgroundColor:"#F0DBDB"},children:Object(i.jsxs)("div",{className:"card-body p-5 text-center",children:[Object(i.jsx)("img",{src:q,alt:"Logo AlphaCours",width:80,height:69.03}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(m,O)}(e)},children:[Object(i.jsx)("div",{className:"form-outline mb-4",children:Object(i.jsx)("input",{type:"email",id:"typeEmailX-2",className:"form-control form-control-lg",placeholder:"Email",name:"email",value:m,onChange:function(e){return x(e)},required:!0})}),Object(i.jsxs)("div",{className:"form-outline mb-4",children:[Object(i.jsx)("input",{type:"password",id:"typePasswordX-2",className:"form-control form-control-lg",placeholder:"Mot de passe",name:"password",value:O,onChange:function(e){return x(e)},minLength:"6",required:!0}),Object(i.jsx)("p",{className:"mt-3",children:Object(i.jsx)(o.b,{to:"/reset-password",children:"Mot de passe oubli\xe9?"})})]}),Object(i.jsx)("button",{className:"btn btn-primary ",type:"submit",style:{backgroundColor:"#BE958E",borderColor:"#BE958E"},children:"Se connecter"})]}),Object(i.jsx)("hr",{class:"my-4"}),Object(i.jsxs)("button",{className:"btn btn-lg btn-block btn-primary",style:{backgroundColor:"#ffffff",color:"#4285F4",borderColor:"#4285F4"},type:"submit",onClick:v,children:[Object(i.jsx)(G.a,{size:"1.3em"}),"\xa0\xa0\xa0Continuer avec Google"]}),Object(i.jsxs)("p",{className:"mt-3",children:["Vous n'avez pas de compte? ",Object(i.jsx)(o.b,{to:"/signup",children:"Cr\xe9er un compte"})]})]})})})})})})})),P=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{signup:function(e,t,c,a,n){return function(){var r=Object(j.a)(Object(b.a)().mark((function r(s){var o,l,i;return Object(b.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={headers:{"Content-Type":"application/json"}},l=JSON.stringify({first_name:e,last_name:t,email:c,password:a,re_password:n}),r.prev=2,r.next=5,f.a.post("".concat("http://localhost:8000","/auth/users/"),l,o);case 5:i=r.sent,s({type:g,payload:i.data}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),s({type:y});case 12:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.signup,c=e.isAuthenticated,n=Object(a.useState)(!1),r=Object(h.a)(n,2),s=r[0],o=r[1],u=Object(a.useState)({first_name:"",last_name:"",adress:"",phone:"",email:"",password:"",re_password:""}),m=Object(h.a)(u,2),O=m[0],x=m[1],v=O.first_name,g=O.last_name,y=O.adress,C=O.phone,w=O.email,N=O.password,S=O.re_password,k=function(e){return x(Object(p.a)(Object(p.a)({},O),{},Object(d.a)({},e.target.name,e.target.value)))},E=function(){var e=Object(j.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat("http://localhost:8000","/auth/o/google-oauth2/?redirect_uri=").concat("http://localhost:8000","/google"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return c?Object(i.jsx)(l.a,{to:"/"}):s?Object(i.jsx)(l.a,{to:"/login"}):Object(i.jsx)("section",{className:"vh-100",style:{backgroundColor:"#FEFCF3"},children:Object(i.jsx)("div",{className:"container py-5 h-100",children:Object(i.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(i.jsx)("div",{className:"col-12 col-md-8 col-lg-6 col-xl-5",children:Object(i.jsx)("div",{className:"card shadow-2-strong",style:{borderRadius:"1rem",backgroundColor:"#F0DBDB"},children:Object(i.jsxs)("div",{className:"card-body p-5 text-center",children:[Object(i.jsx)("img",{src:q,alt:"Logo AlphaCours",width:80,height:69.03}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),N===S&&(t(v,g,y,C,w,N,S),o(!0))}(e)},children:[Object(i.jsx)("div",{className:"form-outline mb-4",children:Object(i.jsx)("input",{type:"text",id:"typeEmailX-2",className:"form-control form-control-lg",placeholder:"Nom",name:"last_name",value:g,onChange:function(e){return k(e)},required:!0})}),Object(i.jsx)("div",{className:"form-outline mb-4",children:Object(i.jsx)("input",{type:"text",id:"typeEmailX-2",className:"form-control form-control-lg",placeholder:"Pr\xe9nom",name:"first_name",value:v,onChange:function(e){return k(e)},required:!0})}),Object(i.jsx)("div",{className:"form-outline mb-4",children:Object(i.jsx)("input",{type:"email",id:"typeEmailX-2",className:"form-control form-control-lg",placeholder:"Email",name:"email",value:w,onChange:function(e){return k(e)},required:!0})}),Object(i.jsx)("div",{className:"form-outline mb-4",children:Object(i.jsx)("input",{type:"text",id:"typeEmailX-2",className:"form-control form-control-lg",placeholder:"Adresse",name:"adress",value:y,onChange:function(e){return k(e)},required:!0})}),Object(i.jsx)("div",{className:"form-outline mb-4",children:Object(i.jsx)("input",{type:"email",id:"typeEmailX-2",className:"form-control form-control-lg",placeholder:"T\xe9l\xe9phone",name:"phone",value:C,onChange:function(e){return k(e)},required:!0})}),Object(i.jsx)("div",{className:"form-outline mb-4",children:Object(i.jsx)("input",{type:"password",id:"typePasswordX-2",className:"form-control form-control-lg",placeholder:"Mot de passe",name:"password",value:N,onChange:function(e){return k(e)},minLength:"6",required:!0})}),Object(i.jsx)("div",{className:"form-outline mb-4",children:Object(i.jsx)("input",{type:"password",id:"typePasswordX-2",className:"form-control form-control-lg",placeholder:"Confirmer le mot de passe",name:"re_password",value:S,onChange:function(e){return k(e)},minLength:"6",required:!0})}),Object(i.jsx)("button",{className:"btn btn-primary ",type:"submit",style:{backgroundColor:"#BE958E",borderColor:"#BE958E"},children:"Cr\xe9er"})]}),Object(i.jsx)("p",{className:"mt-3",children:"Ou vous pouvez continuer avec"}),Object(i.jsxs)("button",{className:"btn btn-lg btn-block btn-primary",style:{backgroundColor:"#ffffff",color:"#4285F4",borderColor:"#4285F4"},type:"submit",onClick:E,children:[Object(i.jsx)(G.a,{size:"1.3em"}),"\xa0\xa0\xa0Continuer avec Google"]})]})})})})})})})),J=Object(m.b)(null,{verify:function(e,t){return function(){var c=Object(j.a)(Object(b.a)().mark((function c(a){var n,r;return Object(b.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({uid:e,token:t}),c.prev=2,c.next=5,f.a.post("".concat("http://localhost:8000","/auth/users/activation/"),r,n);case 5:a({type:C}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(2),a({type:w});case 11:case"end":return c.stop()}}),c,null,[[2,8]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.verify,c=e.match,n=Object(a.useState)(!1),r=Object(h.a)(n,2),s=r[0],o=r[1];return s?Object(i.jsx)(l.a,{to:"/"}):Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{marginTop:"200px"},children:[Object(i.jsx)("h1",{children:"Verify your Account:"}),Object(i.jsx)("button",{onClick:function(e){var a=c.params.uid,n=c.params.token;t(a,n),o(!0)},style:{marginTop:"50px"},type:"button",className:"btn btn-primary",children:"Verify"})]})})})),X=Object(m.b)(null,{reset_password:function(e){return function(){var t=Object(j.a)(Object(b.a)().mark((function t(c){var a,n;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({email:e}),t.prev=2,t.next=5,f.a.post("".concat("http://localhost:8000","/auth/users/reset_password/"),n,a);case 5:c({type:A}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),c({type:_});case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.reset_password,c=Object(a.useState)(!1),n=Object(h.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)({email:""}),u=Object(h.a)(o,2),b=u[0],j=u[1],m=b.email;return r?Object(i.jsx)(l.a,{to:"/"}):Object(i.jsxs)("section",{style:{backgroundColor:"#FEFCF3"},children:[Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"container mt-5",style:{backgroundColor:"#FEFCF3"},children:[Object(i.jsx)("h1",{children:"Entrez votre adresse email:"}),Object(i.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(m),s(!0)}(e)},children:[Object(i.jsx)("div",{className:"form-group",children:Object(i.jsx)("input",{className:"form-control",type:"email",placeholder:"Email",name:"email",value:m,onChange:function(e){return function(e){return j(Object(p.a)(Object(p.a)({},b),{},Object(d.a)({},e.target.name,e.target.value)))}(e)},required:!0})}),Object(i.jsx)("button",{className:"btn btn-primary",type:"submit",style:{backgroundColor:"#BE958E",borderColor:"#BE958E"},children:"R\xe9initialiser"})]})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{})]})})),W=Object(m.b)(null,{reset_password_confirm:function(e,t,c,a){return function(){var n=Object(j.a)(Object(b.a)().mark((function n(r){var s,o;return Object(b.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s={headers:{"Content-Type":"application/json"}},o=JSON.stringify({uid:e,token:t,new_password:c,re_new_password:a}),n.prev=2,n.next=5,f.a.post("".concat("http://localhost:8000","/auth/users/reset_password_confirm/"),o,s);case 5:r({type:I}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),r({type:F});case 11:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.match,c=e.reset_password_confirm,n=Object(a.useState)(!1),r=Object(h.a)(n,2),s=r[0],o=r[1],u=Object(a.useState)({new_password:"",re_new_password:""}),b=Object(h.a)(u,2),j=b[0],m=b[1],O=j.new_password,f=j.re_new_password,x=function(e){return m(Object(p.a)(Object(p.a)({},j),{},Object(d.a)({},e.target.name,e.target.value)))};return s?Object(i.jsx)(l.a,{to:"/"}):Object(i.jsx)("div",{className:"container mt-5",children:Object(i.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var a=t.params.uid,n=t.params.token;c(a,n,O,f),o(!0)}(e)},children:[Object(i.jsx)("div",{className:"form-group",children:Object(i.jsx)("input",{className:"form-control",type:"password",placeholder:"Nouveau mot de passe",name:"new_password",value:O,onChange:function(e){return x(e)},minLength:"6",required:!0})}),Object(i.jsx)("div",{className:"form-group",children:Object(i.jsx)("input",{className:"form-control",type:"password",placeholder:"Confirmer le nouveau mot de passe",name:"re_new_password",value:f,onChange:function(e){return x(e)},minLength:"6",required:!0})}),Object(i.jsx)("button",{className:"btn btn-primary",type:"submit",style:{backgroundColor:"#BE958E",borderColor:"#BE958E"},children:"R\xe9initialiser"})]})})})),M=c(22),H=c.n(M),V=Object(m.b)(null,{facebookAuthenticate:function(e,t){return function(){var c=Object(j.a)(Object(b.a)().mark((function c(a){var n,r,s,o;return Object(b.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e||!t||localStorage.getItem("access")){c.next=15;break}return n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r={state:e,code:t},s=Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"),c.prev=4,c.next=7,f.a.post("".concat("http://localhost:8000","/auth/o/facebook/?").concat(s),n);case 7:o=c.sent,a({type:B,payload:o.data}),a(D()),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(4),a({type:R});case 15:case"end":return c.stop()}}),c,null,[[4,12]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.facebookAuthenticate,c=Object(l.g)();return Object(a.useEffect)((function(){var e=H.a.parse(c.search),a=e.state?e.state:null,n=e.code?e.code:null;console.log("State: "+a),console.log("Code: "+n),a&&n&&t(a,n)}),[c]),Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{class:"jumbotron mt-5",children:[Object(i.jsx)("h1",{class:"display-4",children:"Welcome to Auth System!"}),Object(i.jsx)("p",{class:"lead",children:"This is an incredible authentication system with production level features!"}),Object(i.jsx)("hr",{class:"my-4"}),Object(i.jsx)("p",{children:"Click the Log In button"}),Object(i.jsx)(o.b,{class:"btn btn-primary btn-lg",to:"/login",role:"button",children:"Login"})]})})})),K=Object(m.b)(null,{googleAuthenticate:function(e,t){return function(){var c=Object(j.a)(Object(b.a)().mark((function c(a){var n,r,s,o;return Object(b.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e||!t||localStorage.getItem("access")){c.next=15;break}return n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r={state:e,code:t},s=Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"),c.prev=4,c.next=7,f.a.post("".concat("http://localhost:8000","/auth/o/google-oauth2/?").concat(s),n);case 7:o=c.sent,a({type:T,payload:o.data}),a(D()),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(4),a({type:L});case 15:case"end":return c.stop()}}),c,null,[[4,12]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.googleAuthenticate,c=Object(l.g)();return Object(a.useEffect)((function(){var e=H.a.parse(c.search),a=e.state?e.state:null,n=e.code?e.code:null;console.log("State: "+a),console.log("Code: "+n),a&&n&&t(a,n)}),[c]),Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{class:"jumbotron mt-5",children:[Object(i.jsx)("h1",{class:"display-4",children:"Welcome to Auth System!"}),Object(i.jsx)("p",{class:"lead",children:"This is an incredible authentication system with production level features!"}),Object(i.jsx)("hr",{class:"my-4"}),Object(i.jsx)("p",{children:"Click the Log In button"}),Object(i.jsx)(o.b,{class:"btn btn-primary btn-lg",to:"/login",role:"button",children:"Login"})]})})})),Q=c(18),Y=c(38),Z=c(39),$={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null},ee=Object(Q.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case k:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!0});case x:case T:case B:return localStorage.setItem("access",a.access),localStorage.setItem("refresh",a.refresh),Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!0,access:a.access,refresh:a.refresh});case g:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!1});case N:return Object(p.a)(Object(p.a)({},e),{},{user:a});case E:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!1});case S:return Object(p.a)(Object(p.a)({},e),{},{user:null});case L:case R:case v:case y:case U:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(p.a)(Object(p.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null});case A:case _:case I:case F:case C:case w:return Object(p.a)({},e);default:return e}}}),te=[Z.a],ce=Object(Q.createStore)(ee,{},Object(Y.composeWithDevTools)(Q.applyMiddleware.apply(void 0,te))),ae=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(e){e({type:U})}}})((function(e){var t=e.logout,c=e.isAuthenticated,n=Object(a.useState)(!1),r=Object(h.a)(n,2),s=r[0],u=r[1],b=function(){t(),u(!0)};return Object(i.jsxs)(a.Fragment,{style:{backgroundColor:"#F5EBE0"},children:[Object(i.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light",style:{backgroundColor:"#F5EBE0",borderBottomLeftRadius:10,borderBottomRightRadius:10},children:[Object(i.jsx)(o.b,{className:"navbar-brand",to:"/",style:{backgroundColor:"#F5EBE0"},children:"AlphaCours"}),Object(i.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})}),Object(i.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",style:{backgroundColor:"#F5EBE0"},children:Object(i.jsx)("ul",{className:"navbar-nav",children:c?Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)("a",{className:"nav-link",href:"#!",onClick:b,children:"Logout"})}):Object(i.jsxs)(a.Fragment,{children:[Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(o.b,{className:"nav-link",to:"/login",children:"Se connecter"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(o.b,{className:"nav-link",to:"/signup",children:"Cr\xe9er un compte"})})]})})})]}),s?Object(i.jsx)(l.a,{to:"/"}):Object(i.jsx)(a.Fragment,{})]})})),ne=Object(m.b)(null,{checkAuthenticated:function(){return function(){var e=Object(j.a)(Object(b.a)().mark((function e(t){var c,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return c={headers:{"Content-Type":"application/json",Accept:"application/json"}},a=JSON.stringify({token:localStorage.getItem("access")}),e.prev=3,e.next=6,f.a.post("".concat("http://localhost:8000","/auth/jwt/verify/"),a,c);case 6:"token_not_valid"!==e.sent.data.code?t({type:k}):t({type:E}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:E});case 13:e.next=16;break;case 15:t({type:E});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},load_user:D})((function(e){var t=e.checkAuthenticated,c=e.load_user,n=e.children;return Object(a.useEffect)((function(){t(),c()}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)(ae,{}),n]})})),re=function(){return Object(i.jsx)(m.a,{store:ce,children:Object(i.jsx)(o.a,{children:Object(i.jsx)(ne,{children:Object(i.jsxs)(l.d,{children:[Object(i.jsx)(l.b,{exact:!0,path:"/",component:u}),Object(i.jsx)(l.b,{exact:!0,path:"/login",component:z}),Object(i.jsx)(l.b,{exact:!0,path:"/signup",component:P}),Object(i.jsx)(l.b,{exact:!0,path:"/facebook",component:V}),Object(i.jsx)(l.b,{exact:!0,path:"/google",component:K}),Object(i.jsx)(l.b,{exact:!0,path:"/reset-password",component:X}),Object(i.jsx)(l.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",component:W}),Object(i.jsx)(l.b,{exact:!0,path:"/activate/:uid/:token",component:J})]})})})})};s.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(re,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.48a57111.chunk.js.map